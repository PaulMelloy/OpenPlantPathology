# R for travis: see documentation at https://docs.travis-ci.com/user/languages/r

language: R
sudo: false
cache:
  packages: true
  directories:
    - $HOME/bin

script:
  - "Rscript -e 'blogdown::install_hugo()'"
  
  # knit member directory before building site
  - "Rscript -e 'knitr::knit('/adamhsparks/OpenPlantPathology/static/directory/index.Rmd')'"
  
  # import Roboto condensed
  - "Rscript -e 'hrbrthemes::import_roboto_condensed()'"
  
  # build site
  - "Rscript -e 'blogdown::build_site()'"

after_success:
  - ./deploy.sh
  - cat netlifyctl-debug.log
